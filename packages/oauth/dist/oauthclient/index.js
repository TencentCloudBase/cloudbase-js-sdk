"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getOAuthClient = void 0;
var internal_1 = require("../app/internal");
var oauthclient_1 = require("./oauthclient");
var consts_1 = require("./consts");
Object.defineProperty(exports, "ErrorType", { enumerable: true, get: function () { return consts_1.ErrorType; } });
function getOAuthClient(app) {
    return internal_1._getComponent(app, "oauthclient", function () {
        var appOpts = app.options;
        var oauthOpts = {
            clientId: appOpts.clientId,
            clientSecret: appOpts.clientSecret,
            request: appOpts.request,
            storage: appOpts.storage,
        };
        return (new oauthclient_1.OAuth2Client(oauthOpts));
    });
}
exports.getOAuthClient = getOAuthClient;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvb2F1dGhjbGllbnQvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsNENBQWdEO0FBQ2hELDZDQUE2QztBQUc3QyxtQ0FBcUM7QUFBNUIsbUdBQUEsU0FBUyxPQUFBO0FBVWxCLFNBQWdCLGNBQWMsQ0FBQyxHQUFRO0lBQ3JDLE9BQU8sd0JBQWEsQ0FBYSxHQUFHLEVBQUUsYUFBYSxFQUFFO1FBQ25ELElBQU0sT0FBTyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUE7UUFDM0IsSUFBTSxTQUFTLEdBQUc7WUFDaEIsUUFBUSxFQUFFLE9BQU8sQ0FBQyxRQUFRO1lBQzFCLFlBQVksRUFBRSxPQUFPLENBQUMsWUFBWTtZQUNsQyxPQUFPLEVBQUUsT0FBTyxDQUFDLE9BQU87WUFDeEIsT0FBTyxFQUFFLE9BQU8sQ0FBQyxPQUFPO1NBQ3pCLENBQUE7UUFDRCxPQUFPLENBQUMsSUFBSSwwQkFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUE7SUFDdEMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBWEQsd0NBV0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vYXBwXCI7XG5pbXBvcnQgeyBfZ2V0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2FwcC9pbnRlcm5hbFwiO1xuaW1wb3J0IHsgT0F1dGgyQ2xpZW50IH0gZnJvbSBcIi4vb2F1dGhjbGllbnRcIjtcbmltcG9ydCB7IENyZWRlbnRpYWxzIGFzIGNyZWRlbnRpYWxzLCBSZXNwb25zZUVycm9yIGFzIHJlc3BvbnNlRXJyb3IgfSBmcm9tICcuL21vZGVscyc7XG5pbXBvcnQgeyBBdXRoQ2xpZW50IGFzIGF1dGhDbGllbnQsIFJlcXVlc3RGbiBhcyByZXF1ZXN0Rm4gfSBmcm9tIFwiLi9pbnRlcmZhY2VcIjtcbmV4cG9ydCB7IEVycm9yVHlwZSB9IGZyb20gJy4vY29uc3RzJztcblxuZXhwb3J0IGludGVyZmFjZSBJbml0T3B0aW9ucyB7XG4gIHJlcXVlc3Q/OiBSZXF1ZXN0Rm47XG4gIHJldHJ5PzogbnVtYmVyO1xuICByZWZyZXNoVG9rZW5GdW5jPzogKHJlZnJlc2hUb2tlbj86IHN0cmluZykgPT4gUHJvbWlzZTxDcmVkZW50aWFscz47XG4gIHRva2VuSW5VUkw/OiBib29sZWFuO1xuICBoZWFkZXJzPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9BdXRoQ2xpZW50KGFwcDogQXBwKTogYXV0aENsaWVudCB7XG4gIHJldHVybiBfZ2V0Q29tcG9uZW50PGF1dGhDbGllbnQ+KGFwcCwgXCJvYXV0aGNsaWVudFwiLCAoKTogYXV0aENsaWVudCA9PiB7XG4gICAgY29uc3QgYXBwT3B0cyA9IGFwcC5vcHRpb25zXG4gICAgY29uc3Qgb2F1dGhPcHRzID0ge1xuICAgICAgY2xpZW50SWQ6IGFwcE9wdHMuY2xpZW50SWQsXG4gICAgICBjbGllbnRTZWNyZXQ6IGFwcE9wdHMuY2xpZW50U2VjcmV0LFxuICAgICAgcmVxdWVzdDogYXBwT3B0cy5yZXF1ZXN0LFxuICAgICAgc3RvcmFnZTogYXBwT3B0cy5zdG9yYWdlLFxuICAgIH1cbiAgICByZXR1cm4gKG5ldyBPQXV0aDJDbGllbnQob2F1dGhPcHRzKSlcbiAgfSk7XG59XG5cblxuZXhwb3J0IHR5cGUgQ3JlZGVudGlhbHMgPSBjcmVkZW50aWFsc1xuZXhwb3J0IHR5cGUgQXV0aENsaWVudCA9IGF1dGhDbGllbnRcbmV4cG9ydCB0eXBlIFJlcXVlc3RGbiA9IHJlcXVlc3RGblxuZXhwb3J0IHR5cGUgUmVzcG9uc2VFcnJvciA9IHJlc3BvbnNlRXJyb3IiXX0=